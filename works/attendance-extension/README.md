# 勤怠入力補助 Chrome 拡張

## 概要

社内の勤怠入力作業を支援するために開発した、  
**Chrome 拡張機能による業務改善ツール**です。

勤怠入力画面において、

- 理由入力や設定操作が分かりづらい
- 同じ内容を何度も入力している
- 操作途中でのやり直しが発生しやすい
- 画面レイアウトの影響で視認性が悪い箇所がある

といった課題があり、  
**既存システムを改修せずに、操作体験を改善する手段**として開発しました。

---

## 背景

システム移行後、  
これまで当たり前にできていた操作が一部行えなくなっており、  
日々の勤怠入力に小さなストレスが積み重なっていました。

一方で、

- ベンダー対応は本社側で行われている体制
- 改修要望が即時には反映されない状況
- 他システムでは年単位で要望が未対応の例もあるという前提

があり、  
正式な改修を待つことは現実的ではありませんでした。

それらを元に戻すために、  
方式は異なりますが、  
**移行前にできていたことを再び実現する手段**として  
拡張機能による補助を選択しました。

---

## 設計の考え方

本ツールは、  
勤怠システムそのものには手を加えず、

- 既存の画面構造・操作フローを尊重する
- 拡張を入れても違和感が出ない
- エンジニアがいない現場でも使える

ことを重視しています。

あくまで  
**業務システムの外側から補助する位置づけ**とし、  
「入れたことを意識させない改善」を目指しました。

---

## 実装の要点（実装内容ベース）

### 1. 補助UIの動的追加（既存画面を壊さない）

既存ページのHTMLを直接変更せず、  
画面表示後にDOMを解析して **必要なUI要素のみを動的に追加**しています。

- 理由入力エリア付近に、拡張側の操作UIを挿入
- 設定・確定・キャンセル・設定ダウンロードなどの操作をボタン化
- 既存の入力導線を妨げない配置・サイズを意識

拡張側のUIは、  
既存画面のボタン配置やサイズ感、余白、色味、  
有効・無効時の見え方を事前に確認した上で設計しています。

新しい操作を追加しても  
「いつもの画面が少し便利になった」程度に感じられることを狙い、  
**拡張機能由来のUIであることを極力意識させない構成**としました。

---

### 2. 理由・設定項目の管理機能

理由や設定項目について、

- 並び替え
- 名称編集
- 項目の追加・削除
- タイトル編集

といった操作を拡張側で行えるようにしています。

設定内容はブラウザのローカル領域に保存し、  
**ユーザーごとに完結する設計**としました。

---

### 3. テンプレート保存・再利用

入力負荷の高い項目については、

- 現在の入力状態をテンプレートとして保存
- 次回以降に同じ内容を再適用
- 不要になったテンプレートは削除可能

としています。

既存画面のテンプレート一覧に、  
拡張由来の項目を識別できる形で統合することで、  
**元のUIと違和感なく共存**させています。

---

### 4. 一時保存と自動復元

操作途中でのミスや中断に備え、

- 取消操作などをトリガーに現在の入力状態を一時保存
- 同じ日付を再度開いた際に自動復元

する仕組みを実装しました。

これにより、  
入力ミスや画面遷移による **やり直しコストを最小限**に抑えています。

---

### 5. 視認性改善のためのスタイル調整

- 勤務表表示時にスクロール位置を補正
- 勤務予定行を淡い色で強調表示
- 画面幅によって崩れやすい入力要素は、動的CSSで余白や高さを補正

CSSは必要な場面のみ適用し、  
**既存スタイルへの影響を最小限に留めています。**

---

### 6. DOM依存を抑えた実装方針

業務画面は将来的に変更される可能性があるため、

- 固定IDやclassへの過度な依存を避ける
- テキスト内容や要素の相対関係を組み合わせて取得
- 想定通り取得できない場合は処理を行わない

という方針で実装しています。

「誤動作するくらいなら何もしない」  
という判断を優先しました。

---

## 使用技術

- JavaScript
- Chrome Extensions API
- chrome.storage.local
- DOM 操作
- 動的 CSS 注入


---

## 成果・評価

- 部署内で実運用され、日常業務の入力負担を軽減
- 入力ミス・やり直しの発生を抑制
- 現場および上司から **実用性の高い改善として評価**

「小さな改善だが、毎日確実に効く」という点で  
業務改善事例として好意的に受け取られました。

---

## 想定外だった点

本ツールは、  
他の部署や拠点でも利用できるよう設計していましたが、  
結果として **横展開には至りませんでした**。

理由は技術的な問題ではなく、  
ブラウザ拡張機能に対するリスク評価や  
運用・セキュリティ面での判断によるものです。

---

## この取り組みで意識したこと

- システム移行によって失われた業務体験を補完すること
- 既存システムを壊さずに価値を足すこと
- 技術的に可能でも、運用判断で採用されないケースがあること

この経験から、  
**業務改善では実装だけでなく、背景・制約・合意形成まで含めて考える必要がある**  
という認識を強く持つようになりました。
